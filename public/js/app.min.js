!function(){"use strict";Parse.initialize("aWSciE1mXkreaNl9lC95hkW66oeZZRwdmIXCcD7Y","mEMpRwvnHUNKRf9wjyzvEmRSWu1uxb5BcxI0fsRL"),angular.module("services",[]),angular.module("controllers",[]),angular.module("filters",[]),angular.module("directives",[]);var e=["services","controllers","filters","directives","ngRoute","ngAnimate","ui.bootstrap","angular-loading-bar","ngTweets","vcRecaptcha","ng-facebook-api"];angular.module("app",e)}(),function(){"use strict";function e(e,t,r,n,o){e.when("/",{templateUrl:"/views/home.html",caseInsensitiveMatch:!0,controller:"HomeController",controllerAs:"vm"}).when("/news",{templateUrl:"/views/news.html",caseInsensitiveMatch:!0,controller:"NewsController",controllerAs:"vm",resolve:{initData:["RouteResolverServices",function(e){return e.resolveNews(50)}]}}).when("/news/details/:permalink",{templateUrl:"/views/news-details.html",caseInsensitiveMatch:!0,controller:"NewsDetailsController",controllerAs:"vm",resolve:{initData:["$route","RouteResolverServices",function(e,t){return t.resolveNewsDetails(e.current.params.permalink)}]}}).when("/videos",{templateUrl:"/views/videos.html",caseInsensitiveMatch:!0,controller:"VideosController",controllerAs:"vm",resolve:{initData:["RouteResolverServices",function(e){return e.resolveVideos(50)}]}}).when("/videos/details/:id",{templateUrl:"/views/videos-details.html",caseInsensitiveMatch:!0,controller:"VideosDetailsController",controllerAs:"vm",resolve:{initData:["$route","RouteResolverServices",function(e,t){return t.resolveVideosDetails(e.current.params.id)}]}}).when("/about",{templateUrl:"/views/about.html",caseInsensitiveMatch:!0}).when("/policies",{templateUrl:"/views/policies.html",caseInsensitiveMatch:!0}).when("/termsofuse",{templateUrl:"/views/terms-of-use.html",caseInsensitiveMatch:!0}).otherwise({redirectTo:"/"}),t.html5Mode(!0),r.includeSpinner=!1,n.enabled(!1),o.setInitParams("900436863361296",!0,!0,!0,"v2.4"),o.setPermissions(["email","read_stream"])}angular.module("app").config(e),e.$inject=["$routeProvider","$locationProvider","cfpLoadingBarProvider","$sceProvider","facebookProvider"]}(),function(){"use strict";function e(e,t,r){e.$on("$routeChangeStart",function(e,r,n){t.closeSideBar()})}angular.module("app").run(e),e.$inject=["$rootScope","NavigationServices","GlobalServices"]}();var app;!function(e){var t;!function(e){var t=function(){function e(e){if(this.$scope=e,e.destinationUrl){var t=e.media.permalink||e.media.id;e.media.url=e.destinationUrl+t}}return e.$inject=["$scope"],e}();e.MediaImageDirective=t,angular.module("directives").directive("ecuMediaImage",function(){return{scope:{destinationUrl:"@",media:"="},restrict:"E",templateUrl:"/js/directives/media/media-image-directive.html",controller:t}})}(t=e.directives||(e.directives={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e,t,r,n,o){this.NavigationServices=t,this.$interval=r,this.$window=n,this.$document=o;var i=this;i.isSideBarOpen=i.NavigationServices.getSideBarState(),e.$on("navigation:sidebar",function(e,t){i.isSideBarOpen=t}),i.navbar()}return e.prototype.toggleSideBar=function(){this.NavigationServices.toggleSideBar()},e.prototype.navbar=function(){function e(){var e=r.scrollTop();Math.abs(i-e)<=a||(e>i&&e>n.outerHeight()?(n.addClass("navigation-bar-toggle"),o.removeClass("navigation-bar-sidebar-toggle")):e+r.height()<angular.element(t.$document).height()&&n.removeClass("navigation-bar-toggle"),i=e)}var t=this,r=angular.element(t.$window),n=t.$document.find(".navigation-bar-wrapper"),o=t.$document.find(".navigation-bar-sidebar-wrapper"),i=0,s=!1,a=5;r.bind("scroll",function(){s=!0}),t.$interval(function(){s&&(e(),s=!1)},250)},e.$inject=["$scope","NavigationServices","$interval","$window","$document"],e}();e.NavbarDirective=t,angular.module("directives").directive("ecuNavbar",function(){return{scope:!0,restrict:"E",templateUrl:"/js/directives/navbar/navbar-directive.html",controller:t,controllerAs:"navbar",transclude:!0}})}(t=e.directives||(e.directives={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.$rootScope=e,this.isSideBarOpen=!1}return e.prototype.toggleSideBar=function(){this.isSideBarOpen=!this.isSideBarOpen,this.$rootScope.$broadcast("navigation:sidebar",this.isSideBarOpen)},e.prototype.getSideBarState=function(){return this.isSideBarOpen},e.prototype.closeSideBar=function(){this.isSideBarOpen=!1,this.$rootScope.$broadcast("navigation:sidebar",this.isSideBarOpen)},e.prototype.openSideBar=function(){this.isSideBarOpen=!0,this.$rootScope.$broadcast("navigation:sidebar",this.isSideBarOpen)},e}();angular.module("services").factory("NavigationServices",["$rootScope",function(e){return new t(e)}])}(t=e.services||(e.services={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,r){this.$q=e,this.YoutubeServices=t,this.DataServices=r}return e.prototype.resolveVideosDetails=function(e){return this.$q.all([this.YoutubeServices.getYouTubeVideoById(e)]).then(function(e){return{video:e[0].data}})},e.prototype.resolveVideos=function(e){return this.$q.all([this.YoutubeServices.getYouTubeVideos(e)]).then(function(e){return{data:e[0]}})},e.prototype.resolveNews=function(e){return this.$q.all([this.DataServices.getNews(e)]).then(function(e){return{data:e[0]}})},e.prototype.resolveNewsDetails=function(e){return this.$q.all([this.DataServices.getNewsByPermalink(e)]).then(function(e){return{data:e[0]}})},e}();angular.module("services").factory("RouteResolverServices",["$q","YoutubeServices","DataServices",function(e,r,n){return new t(e,r,n)}])}(t=e.services||(e.services={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$http=e,this.$q=t}return e.prototype.getFeaturedVideo=function(){var e=this.$q.defer();if(1===(new Date).getUTCDay()&&(new Date).getUTCHours()>=23||2===(new Date).getUTCDay()&&(new Date).getUTCHours()<=2)e.resolve({title:"Live Stream",url:"http://www.ustream.tv/embed/10266764?v=3&amp;wmode=direct"});else{var t=Parse.Object.extend("FeaturedVideo"),r=new Parse.Query(t);r.first({success:function(t){e.resolve({title:"Video del Dia",url:t.get("url")})},error:function(t){e.reject("Error: "+t.code+" "+t.message)}})}return e.promise},e.prototype.subscribe=function(e){var t=this.$q.defer();return this.$http.post("/api/subscribe",{email:e}).success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},e.prototype.contactUs=function(e){var t=this.$q.defer();return this.$http.post("/api/contactus",{contact:e}).success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},e.prototype.getParseKeys=function(){var e=this.$q.defer();return this.$http.get("/api/parse").success(function(t){e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},e}();angular.module("services").factory("GlobalServices",["$http","$q",function(e,r){return new t(e,r)}])}(t=e.services||(e.services={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$http=e,this.$q=t}return e.prototype.getYouTubeVideos=function(e,t){var r=this.$q.defer();return e=e||10,t=t||"",this.$http.get("/api/youtube?max="+e+"&page="+t).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise},e.prototype.getYouTubeVideoById=function(e){var t=this.$q.defer();return this.$http.get("/api/youtube/"+e).success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise},e}();angular.module("services").factory("YoutubeServices",["$http","$q",function(e,r){return new t(e,r)}])}(t=e.services||(e.services={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$http=e,this.$q=t}return e.prototype.getSoundcloudSongs=function(){var e=this.$q.defer();return this.$http.get("/api/soundcloud").success(function(t){e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},e}();angular.module("services").factory("SoundcloudServices",["$http","$q",function(e,r){return new t(e,r)}])}(t=e.services||(e.services={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$http=e,this.$q=t}return e.prototype.getPromos=function(){var e=this.$q.defer(),t=Parse.Object.extend("Promo"),r=new Parse.Query(t);return r.descending("createdAt"),r.equalTo("isActive",!0),r.limit(10),r.find({success:function(t){for(var r=[],n=0;n<t.length;n++)if(n%2===0){var o={content:[]};o.content.push(t[n].toJSON()),o.content.push(t[n+1].toJSON()),r.push(o)}e.resolve(r)},error:function(t){e.reject("Error: "+t.code+" "+t.message)}}),e.promise},e.prototype.getNews=function(e){var t=this.$q.defer(),r=e||50,n=Parse.Object.extend("News"),o=new Parse.Query(n);return o.descending("createdAt"),o.equalTo("isActive",!0),o.limit(r),o.find({success:function(e){var r=[];angular.forEach(e,function(e,t){r.push(e.toJSON())}),t.resolve(r)},error:function(e){t.reject("Error: "+e.code+" "+e.message)}}),t.promise},e.prototype.getNewsByPermalink=function(e){var t=this.$q.defer(),r=Parse.Object.extend("News"),n=new Parse.Query(r);return n.equalTo("permalink",e),n.first({success:function(e){t.resolve(e.toJSON())},error:function(e){t.reject("Error: "+e.code+" "+e.message)}}),t.promise},e.$inject=["$http","$q"],e}();angular.module("services").service("DataServices",t)}(t=e.services||(e.services={}))}(app||(app={})),function(){"use strict";angular.module("controllers").controller("GlobalController",["$scope","NavigationServices","$uibModal","$uibModalStack","GlobalServices",function(e,t,r,n,o){var i=this;i.contactUs=function(){r.open({templateUrl:"/views/contact-us-modal.html",controller:"GlobalController",controllerAs:"global"}),t.closeSideBar()},i.sendContactUs=function(){o.contactUs(i.contact).then(function(){n.dismissAll()})},i.cancelContactUs=function(){n.dismissAll()},e.$on("navigation:sidebar",function(e,t){i.isSideBarOpen=t})}])}();var app;!function(e){var t;!function(e){var t=function(){function e(e,t,r,n,o,i,s,a){this.$sce=e,this.GlobalServices=t,this.YoutubeServices=r,this.SoundcloudServices=n,this.tweets=o,this.DataServices=i,this.facebook=s,this.$rootScope=a;var c=this;c.audio=document.createElement("audio"),c.GlobalServices.getFeaturedVideo().then(function(e){c.featuredVideo=e}),c.DataServices.getNews(8).then(function(e){c.news=e}),c.tweets.get({widgetId:"680180390867283968"}).then(function(e){c.twitter=e.data.tweets}),c.YoutubeServices.getYouTubeVideos(10).then(function(e){c.youtube=e}),c.SoundcloudServices.getSoundcloudSongs().then(function(e){c.songs=e.data}),c.DataServices.getPromos().then(function(e){c.promos=e}),a.$on("fb.init",function(){console.log("SDK Ready"),s.getUser().then(function(e){console.log(e.user),console.log(e.authResponse)},function(e){console.log("Ops, something went wrong...")})})}return e.prototype.playTrack=function(e){var t=this;return 0>e&&(e=0),e>=t.songs.length&&(e=t.songs.length-1),t.selectedTrackIndex===e?(t.audio.pause(),void t.clearPlayTrackIcons()):(t.selectedTrackIndex=e,t.audio.setAttribute("src",t.songs[e].stream_url),t.audio.play(),void t.togglePlayIcons(e))},e.prototype.downloadTrack=function(e){window.open(e)},e.prototype.sanitizeHTML=function(e){return this.$sce.trustAsHtml(e)},e.prototype.subscribe=function(){var e=this;e.GlobalServices.subscribe(e.subscribeEmail).then(function(t){t.success||console.error(t),alert(t.message),e.subscribeEmail=""})},e.prototype.togglePlayIcons=function(e){this.clearPlayTrackIcons(),angular.element(document.querySelector(".sc-play-stop-"+e)).removeClass("pe-7s-play").addClass("pe-7s-close")},e.prototype.clearPlayTrackIcons=function(){angular.element(document).find('[class*="sc-play-stop-"]').removeClass("pe-7s-close").addClass("pe-7s-play")},e.$inject=["$sce","GlobalServices","YoutubeServices","SoundcloudServices","tweets","DataServices","facebook","$rootScope"],e}();angular.module("controllers").controller("HomeController",t)}(t=e.controllers||(e.controllers={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;t.news=e.data}return e.$inject=["initData"],e}();angular.module("controllers").controller("NewsController",t)}(t=e.controllers||(e.controllers={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$sce=t;var r=this;r.news=e.data}return e.prototype.sanitizeHTML=function(e){return this.$sce.trustAsHtml(e)},e.$inject=["initData","$sce"],e}();angular.module("controllers").controller("NewsDetailsController",t)}(t=e.controllers||(e.controllers={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,r){this.YoutubeServices=t,this.$window=r;var n=this;n.videos=e.data.videos,n.prev=e.data.prev,n.next=e.data.next}return e.prototype.previousVideos=function(){var e=this;e.reset(),e.prev&&e.YoutubeServices.getYouTubeVideos(50,e.prev).then(function(t){e.videos=t.videos,e.prev=t.prev,e.next=t.next,e.animateIn()})},e.prototype.nextVideos=function(){var e=this;e.reset(),e.next&&e.YoutubeServices.getYouTubeVideos(50,e.next).then(function(t){e.videos=t.videos,e.prev=t.prev,e.next=t.next,e.animateIn()})},e.prototype.reset=function(){var e=this;e.$window.scrollTo(0,0),e.animateOut()},e.prototype.animateOut=function(){angular.element(document.querySelector("#videos-content")).removeClass("fadeIn"),angular.element(document.querySelector("#videos-content")).addClass("fadeOut")},e.prototype.animateIn=function(){angular.element(document.querySelector("#videos-content")).removeClass("fadeOut").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){angular.element(document.querySelector("#videos-content")).addClass("fadeIn")})},e.$inject=["initData","YoutubeServices","$window"],e}();angular.module("controllers").controller("VideosController",t)}(t=e.controllers||(e.controllers={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.initData=e,this.video=e.video}return e.$inject=["initData"],e}();angular.module("controllers").controller("VideosDetailsController",t)}(t=e.controllers||(e.controllers={}))}(app||(app={}));
//# sourceMappingURL=app.min.js.map